# –°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

HyPrism –≤–∫–ª—é—á–∞–µ—Ç –≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –≤ runtime –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ (`Assets/Locales/`)

–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–∞–π–ª–∞—Ö –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É IETF:

```
Assets/Locales/
‚îú‚îÄ‚îÄ en-US.json      # English (United States)
‚îú‚îÄ‚îÄ ru-RU.json      # –†—É—Å—Å–∫–∏–π
‚îú‚îÄ‚îÄ de-DE.json      # Deutsch
‚îú‚îÄ‚îÄ es-ES.json      # Espa√±ol
‚îú‚îÄ‚îÄ fr-FR.json      # Fran√ßais
‚îú‚îÄ‚îÄ ja-JP.json      # Êó•Êú¨Ë™û
‚îú‚îÄ‚îÄ ko-KR.json      # ÌïúÍµ≠Ïñ¥
‚îú‚îÄ‚îÄ pt-BR.json      # Portugu√™s (Brasil)
‚îú‚îÄ‚îÄ tr-TR.json      # T√ºrk√ße
‚îú‚îÄ‚îÄ uk-UA.json      # –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
‚îú‚îÄ‚îÄ zh-CN.json      # ÁÆÄ‰Ωì‰∏≠Êñá
‚îî‚îÄ‚îÄ be-BY.json      # –ë–µ–ª–∞—Ä—É—Å–∫–∞—è
```

### ‚ö†Ô∏è Legacy —Å–∏—Å—Ç–µ–º–∞ (`assets/game-lang/`)

> **–£—Å—Ç–∞—Ä–µ–ª–æ!** –≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—ã–µ `.lang` —Ñ–∞–π–ª—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –¥–ª—è –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

---

## üìÑ –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON

```json
{
  "_langName": "–†—É—Å—Å–∫–∏–π",
  "_langCode": "ru-RU",
  "button": {
    "play": "–ò–≥—Ä–∞—Ç—å",
    "settings": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
    "mods": "–ú–æ–¥—ã",
    "profile": "–ü—Ä–æ—Ñ–∏–ª—å"
  },
  "dashboard": {
    "welcome": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {0}!",
    "version": "–í–µ—Ä—Å–∏—è: {0}",
    "status": {
      "ready": "–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ",
      "downloading": "–ó–∞–≥—Ä—É–∑–∫–∞...",
      "updating": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ..."
    }
  },
  "settings": {
    "language": "–Ø–∑—ã–∫",
    "theme": "–¢–µ–º–∞",
    "discord": "Discord RPC"
  },
  "errors": {
    "network": "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏",
    "notFound": "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
  }
}
```

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –ö–ª—é—á | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `_langName` | –ù–∞–∑–≤–∞–Ω–∏–µ —è–∑—ã–∫–∞ (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ UI) |
| `_langCode` | IETF –∫–æ–¥ (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞) |

### –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å

–ö–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:

```json
{
  "dashboard": {
    "status": {
      "ready": "–ì–æ—Ç–æ–≤"
    }
  }
}
```

–î–æ—Å—Ç—É–ø: `dashboard.status.ready`

### Placeholder'—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `{0}`, `{1}`, etc. –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π:

```json
{
  "welcome": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {0}!"
}
```

```csharp
var text = String.Format(localization.Translate("welcome"), username);
```

---

## ‚öôÔ∏è LocalizationService

**–§–∞–π–ª:** `Services/Core/LocalizationService.cs`

### API

```csharp
public class LocalizationService : ReactiveObject
{
    // –°–∏–Ω–≥–ª—Ç–æ–Ω
    public static LocalizationService Instance { get; }
    
    // –¢–µ–∫—É—â–∏–π —è–∑—ã–∫ (—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ)
    public string CurrentLanguage { get; set; }
    
    // –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
    public string Translate(string key);
    
    // –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞)
    public IObservable<string> GetObservable(string key);
    
    // –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤
    public static Dictionary<string, string> GetAvailableLanguages();
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ ViewModel

```csharp
public class MyViewModel : ReactiveObject
{
    [ObservableProperty]
    private string _playButtonText;
    
    public MyViewModel()
    {
        // –†–µ–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
        LocalizationService.Instance.GetObservable("button.play")
            .Subscribe(text => PlayButtonText = text);
    }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ XAML

```xml
<!-- –ß–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä -->
<TextBlock Text="{Binding Source={x:Static services:LocalizationService.Instance},
                          Path=CurrentLanguage,
                          Converter={StaticResource TranslateConverter},
                          ConverterParameter=button.play}"/>

<!-- –ß–µ—Ä–µ–∑ ViewModel -->
<TextBlock Text="{Binding PlayButtonText}"/>
```

---

## üåç –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `en-US.json` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ:

```bash
cp Assets/Locales/en-US.json Assets/Locales/pl-PL.json
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

```json
{
  "_langName": "Polski",
  "_langCode": "pl-PL",
  ...
}
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏

```json
{
  "button": {
    "play": "Graj",
    "settings": "Ustawienia"
  }
}
```

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –Ω–æ–≤—ã–π —Ñ–∞–π–ª –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –∏ –¥–æ–±–∞–≤–∏—Ç –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤.

---

## üìê –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–µ—Ä–µ–≤–æ–¥—É

### –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫

–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–ª–∏–Ω—É –±–ª–∏–∑–∫–æ–π –∫ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É –æ—Ä–∏–≥–∏–Ω–∞–ª—É –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è UI –ø—Ä–æ–±–ª–µ–º.

| –û—Ä–∏–≥–∏–Ω–∞–ª | ‚úÖ –•–æ—Ä–æ—à–æ | ‚ùå –ü–ª–æ—Ö–æ |
|----------|----------|---------|
| "Play" | "–ò–≥—Ä–∞—Ç—å" | "–ù–∞—á–∞—Ç—å –∏–≥—Ä–æ–≤—É—é —Å–µ—Å—Å–∏—é" |
| "Settings" | "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" | "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" |

### Placeholder'—ã

–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å `{0}`, `{1}`, etc.:

```json
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
"–í–µ—Ä—Å–∏—è: {0}"

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø–æ—Ç–µ—Ä—è–ª–∏ placeholder)
"–í–µ—Ä—Å–∏—è"
```

### –¢–µ—Å—Ç

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤—Å–µ —ç–∫—Ä–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç:
- –û–±—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö placeholder'–æ–≤

---

## üîß Fallback —Å–∏—Å—Ç–µ–º–∞

–ï—Å–ª–∏ –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ–∫—É—â–µ–º —è–∑—ã–∫–µ, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `en-US.json`.

```csharp
// –ü–æ—Ä—è–¥–æ–∫ –ø–æ–∏—Å–∫–∞:
// 1. ru-RU.json -> dashboard.title
// 2. en-US.json -> dashboard.title (fallback)
// 3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–ª—é—á "dashboard.title" –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
```

---

## üìä –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–§–∞–π–ª:** `Scripts/update_locales.py`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª—é—á–µ–π –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏:

```bash
python Scripts/update_locales.py
```

–°–∫—Ä–∏–ø—Ç:
1. –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ `.json` —Ñ–∞–π–ª—ã
2. –ù–∞—Ö–æ–¥–∏—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
3. –î–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö —Å –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–ª–∏ fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Features.md](../General/Features.md) ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- [Configuration.md](../User/Configuration.md) ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —è–∑—ã–∫–∞
