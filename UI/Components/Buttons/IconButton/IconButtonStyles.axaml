<Styles xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns="https://github.com/avaloniaui"
        xmlns:btn="using:HyPrism.UI.Components.Buttons.IconButton"
        xmlns:svg="clr-namespace:Avalonia.Svg.Skia;assembly=Avalonia.Svg.Skia">
  <Design.PreviewWith>
    <Border Padding="20">
      <btn:IconButton Content="Icon"
                      Width="50"
                      Height="50"
                      ButtonBackground="#2a2a2a" />
    </Border>
  </Design.PreviewWith>
  <!-- IconButton Style -->
  <Style Selector="btn|IconButton">
    <Setter Property="Foreground" Value="White" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="Transitions">
      <Transitions>
        <BrushTransition Duration="0:0:0.1" Property="Foreground" />
      </Transitions>
    </Setter>
    <Setter Property="Template">
      <ControlTemplate>
        <Border Name="PART_Border"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Background="{TemplateBinding ButtonBackground}"
                BorderBrush="#15FFFFFF"
                BorderThickness="1"
                Classes="icon-btn-bg"
                CornerRadius="12"
                Padding="12">
          <!-- Container for Icon -->
          <Panel Name="PART_IconContainer"
                 Width="{TemplateBinding IconSize}"
                 Height="{TemplateBinding IconSize}"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center"
                 RenderTransformOrigin="50%,50%">
            <!-- Base Icon (White) -->
            <!-- Wrapped in a Panel to ensure smooth opacity transitions and avoid rendering glitches -->
            <Panel Name="PART_BaseIconWrapper" IsHitTestVisible="False">
              <svg:Svg Name="PART_BaseIcon"
                       Width="{TemplateBinding IconSize}"
                       Height="{TemplateBinding IconSize}"
                       Css="* { stroke: #FFFFFF; fill: none; }"
                       IsHitTestVisible="False"
                       Path="{TemplateBinding IconPath}" />
            </Panel>
            <!-- Hover Overlay (Accent Color) -->
            <svg:Svg Name="PART_HoverOverlay"
                     Width="{TemplateBinding IconSize}"
                     Height="{TemplateBinding IconSize}"
                     Css="{TemplateBinding HoverCss}"
                     IsHitTestVisible="False"
                     Opacity="0"
                     Path="{TemplateBinding IconPath}" />
            <Panel.Transitions>
              <Transitions>
                <TransformOperationsTransition Duration="0:0:0.2"
                                               Easing="CubicEaseOut"
                                               Property="RenderTransform" />
              </Transitions>
            </Panel.Transitions>
          </Panel>
        </Border>
      </ControlTemplate>
    </Setter>
  </Style>
  <!-- Hover State: No scale change -->
  <Style Selector="btn|IconButton:pointerover /template/ Panel#PART_IconContainer">
  </Style>
  <!-- Pressed State: No scale change -->
  <Style Selector="btn|IconButton:pressed /template/ Panel#PART_IconContainer">
  </Style>
  <!-- Animations for IconButton Border -->
  <Style Selector="btn|IconButton /template/ Border#PART_Border">
    <Setter Property="Transitions">
      <Transitions>
        <BrushTransition Duration="0:0:0.2" Property="Background" />
        <BrushTransition Duration="0:0:0.2" Property="BorderBrush" />
      </Transitions>
    </Setter>
  </Style>
  <Style Selector="btn|IconButton:pointerover /template/ Border#PART_Border">
    <Setter Property="Background" Value="#80090909" />
    <Setter Property="BorderBrush" Value="#20FFFFFF" />
  </Style>
  <Style Selector="btn|IconButton:pressed /template/ Border#PART_Border">
    <Setter Property="Background" Value="#8C090909" />
  </Style>
</Styles>